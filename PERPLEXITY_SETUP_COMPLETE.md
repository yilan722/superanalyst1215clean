# âœ… Perplexity API é…ç½®å®Œæˆ

## ğŸ”‘ **APIå¯†é’¥é…ç½®**

å·²æˆåŠŸæ·»åŠ Perplexity APIå¯†é’¥åˆ°ç¯å¢ƒå˜é‡ï¼š
```
PERPLEXITY_API_KEY=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
```

## ğŸš€ **APIè°ƒç”¨é…ç½®**

### **æ¨¡å‹é…ç½®**:
- **æ¨¡å‹**: `sonar-deep-research`
- **æœ€å¤§Token**: 18,000 (æ§åˆ¶æˆæœ¬ < $0.8)
- **æ¸©åº¦**: 0.05 (ç²¾ç¡®åº¦ä¼˜å…ˆ)
- **æœç´¢æŸ¥è¯¢**: å¯ç”¨
- **æœç´¢æ—¶é—´**: æœ€è¿‘ä¸€ä¸ªæœˆ
- **è¿”å›å¼•ç”¨**: å¯ç”¨

### **APIç«¯ç‚¹**:
- **URL**: `https://api.perplexity.ai/chat/completions`
- **æ–¹æ³•**: POST
- **è®¤è¯**: Bearer Token

## ğŸ”§ **å·²ä¿®å¤çš„é—®é¢˜**

### **1. ç¡¬ç¼–ç è¡¨æ ¼é—®é¢˜** âœ…
- ç§»é™¤äº†æ‰€æœ‰ç¡¬ç¼–ç è¡¨æ ¼ç”Ÿæˆå‡½æ•°
- `formatAsHtml` ç°åœ¨ç›´æ¥è¿”å›AIåŸå§‹è¾“å‡º
- ç¡®ä¿Deep Researchæ¨¡å‹ç”Ÿæˆçš„çœŸå®æ•°æ®å®Œæ•´ä¿ç•™

### **2. JSONè§£ææ”¹è¿›** âœ…
- å¢å¼ºäº†JSONæå–é€»è¾‘ï¼Œæ”¯æŒå¤šç§æ ¼å¼
- æ·»åŠ äº†å†…å®¹æ¸…ç†å’Œé¢„å¤„ç†
- æ”¹è¿›äº†é”™è¯¯å¤„ç†å’Œè°ƒè¯•ä¿¡æ¯

### **3. APIå¯†é’¥é…ç½®** âœ…
- æ­£ç¡®é…ç½®Perplexity APIå¯†é’¥
- å‰ç«¯è°ƒç”¨å·²åˆ‡æ¢åˆ° `/api/generate-report-perplexity`

## ğŸ¯ **å½“å‰çŠ¶æ€**

### **æµ‹è¯•ç»“æœ**:
- âœ… APIè¿æ¥æˆåŠŸ
- âœ… Sonar Deep Research æ¨¡å‹å“åº”
- âœ… å¹³å‡å“åº”æ—¶é—´: ~3åˆ†é’Ÿ
- ğŸ”§ JSONè§£æå·²ä¼˜åŒ–

### **æŠ¥å‘Šè´¨é‡æœŸå¾…**:
- ğŸ¯ å››ä¸ªå®Œæ•´éƒ¨åˆ†: fundamentalAnalysis, businessSegments, growthCatalysts, valuationAnalysis
- ğŸ“Š æ¯éƒ¨åˆ†è‡³å°‘2-3ä¸ªæ•°æ®è¡¨æ ¼
- ğŸš« æ— è‹±æ–‡æ€è€ƒè¿‡ç¨‹
- ğŸ“ˆ çœŸå®çš„è´¢åŠ¡æ•°æ®å’Œä¼°å€¼è®¡ç®—
- ğŸ¨ ä¸“ä¸šçš„HTMLæ ¼å¼

## ğŸš€ **ä¸‹ä¸€æ­¥**

ç°åœ¨ç³»ç»Ÿå·²ç»é…ç½®å®Œæˆï¼Œå¯ä»¥ï¼š
1. **ç”ŸæˆæŠ¥å‘Š** - ä½¿ç”¨Perplexity Sonar Deep Researchæ¨¡å‹
2. **éªŒè¯è´¨é‡** - æ£€æŸ¥æŠ¥å‘Šæ˜¯å¦ç¬¦åˆä¸“ä¸šæ ‡å‡†
3. **æŒç»­ä¼˜åŒ–** - æ ¹æ®å®é™…ç»“æœè°ƒæ•´prompt

**æ‚¨ç°åœ¨å¯ä»¥æ­£å¸¸ç”Ÿæˆé«˜è´¨é‡çš„æŠ•èµ„ç ”ç©¶æŠ¥å‘Šäº†ï¼** ğŸ‰
